# T-Translate 功能特性详解

## 🎯 核心理念

### 隐私优先 (Privacy First)

在当今数据泄露频发的时代，T-Translate 选择了一条不同的路：**所有翻译都在本地完成**。

- 你的文字不会发送到任何云服务器
- 没有账号系统，没有数据收集
- 即使断网也能正常使用
- 代码开源，可自行审查

### 为什么选择本地 LLM？

| 云端翻译 | 本地 LLM |
|----------|----------|
| 数据上传到服务器 | 数据留在本地 |
| 需要网络 | 离线可用 |
| 按量付费或广告 | 一次部署永久免费 |
| 模型固定 | 可自选模型 |
| 可能审查内容 | 完全自由 |

---

## 📱 三种翻译模式

### 1. 主窗口模式

传统的翻译界面，适合需要精细控制的场景。

**特点：**
- 左右分栏，源文本和译文对照显示
- 支持长文本翻译
- 可调整字体大小
- 一键复制结果
- 自动保存历史

**适用场景：**
- 翻译整篇文章
- 需要编辑后再翻译
- 对比原文和译文

### 2. 玻璃窗口模式

置顶的透明窗口，像一块悬浮的「翻译玻璃」。

**特点：**
- 始终置顶，不遮挡其他窗口
- 半透明背景，可看到下层内容
- 实时翻译剪贴板内容
- 可拖动、可调整大小
- 支持快捷键呼出

**适用场景：**
- 看外语视频时实时翻译字幕
- 阅读 PDF 文档对照翻译
- 玩外服游戏翻译界面

### 3. 划词翻译模式

选中文字即可翻译，最轻量的翻译方式。

**工作流程：**
```
选中文字 → 出现翻译按钮 → 点击按钮 → 显示翻译结果
```

**特点：**
- 不打断阅读流程
- 翻译结果以「便利贴」形式显示
- 可拖动、可调整大小
- 支持显示原文对照
- 一键复制译文
- 4秒无操作自动消失

**适用场景：**
- 浏览网页遇到生词
- 阅读文档时快速查词
- 任何需要即时翻译的场景

---

## 🤖 AI 增强功能

### 智能标签系统

传统的收藏功能只能手动分类，而 T-Translate 利用 AI 自动生成标签。

**工作原理：**
1. 用户点击收藏按钮
2. AI 分析原文和译文内容
3. 自动生成 1-3 个相关标签
4. 标签可用于快速筛选

**示例：**
```
原文: "The quick brown fox jumps over the lazy dog"
译文: "敏捷的棕色狐狸跳过了懒惰的狗"
AI 标签: #语言学习 #英语例句
```

### 上下文理解

基于大语言模型的翻译，不是简单的词对词替换，而是理解整个句子的含义后进行翻译。

**优势：**
- 理解语境，避免歧义
- 保持原文语气和风格
- 处理俚语和习惯用语
- 专业术语翻译更准确

---

## 🔊 TTS 语音朗读

### 功能特点

- 支持朗读原文和译文
- 自动识别语言匹配语音
- 可调节语速
- 支持中断和继续

### 使用方式

1. 翻译完成后点击朗读按钮
2. 或使用快捷键 `Ctrl+Shift+R`
3. 再次点击停止朗读

### 技术实现

- 使用 Web Speech API
- 自动匹配最佳语音
- 支持离线语音包

---

## 🔄 检查更新

### 功能特点

- 从 GitHub Releases 获取最新版本
- 版本号比较
- 更新内容预览
- 一键跳转下载页面

### 使用方式

1. 打开 设置 → 关于
2. 点击「检查更新」按钮
3. 有新版本时弹窗提示
4. 点击「前往下载」跳转 GitHub

---

## 💾 数据管理

### 历史记录

- 自动保存所有翻译记录
- 支持按时间/内容搜索
- 可导出为 JSON 格式
- 可设置自动清理时间

### 收藏夹

- 重要翻译一键收藏
- AI 自动生成标签
- 按标签筛选
- 支持手动编辑

### 设置同步

- 所有设置保存在本地
- 可导出/导入配置文件
- 支持一键重置

---

## 🎨 界面设计

### 主题支持

- **亮色模式** - 清爽白色背景
- **深色模式** - 护眼深色背景
- 划词翻译窗口自动跟随主题

### 自适应布局

- 窗口大小可自由调整
- 内容自动换行
- 滚动条美化

---

## ⚙️ 技术亮点

### 划词翻译的技术实现

划词翻译是本项目最复杂的功能之一，涉及多个技术难点：

1. **全局鼠标监听** - 使用 `uiohook-napi` 监听系统级鼠标事件
2. **焦点管理** - 翻译窗口设置 `focusable: false`，不抢占焦点
3. **剪贴板操作** - 模拟 Ctrl+C 获取选中文字
4. **OCR 兜底** - 复制失败时自动截图识别
5. **防误触** - 过滤短距离拖拽和快速点击

### 窗口管理

- 主窗口、玻璃窗口、划词窗口独立运行
- 各窗口有独立的 preload 脚本
- IPC 通信确保数据同步

### 本地存储

使用 `electron-store` 进行数据持久化：
- 设置配置
- 翻译历史
- 收藏内容
- 窗口位置记忆

---

## 🔮 未来展望

### 已完成 ✅
- ✅ TTS 语音朗读
- ✅ 检查更新功能
- ✅ 主题切换 (默认/清新/暗色)
- ✅ 术语表功能
- ✅ macOS/Linux 支持

### 短期计划
- 多显示器支持优化
- 更多快捷键自定义
- 翻译记忆库 (TM)

### 长期计划
- 词典模式（单词详解、例句）
- 插件系统
- 多模型切换
- 云同步 (可选)

---

## 💡 使用技巧

### 提高翻译质量

1. **选择合适的模型** - Qwen3-VL 在中英翻译上表现优秀
2. **调整温度参数** - 较低温度(0.3)翻译更稳定
3. **设置正确的目标语言** - 避免自动检测出错

### 提高使用效率

1. **善用快捷键** - 减少鼠标操作
2. **玻璃窗口 + 视频** - 看外语视频神器
3. **划词翻译 + 浏览器** - 无缝阅读外文网页

### 隐私建议

1. **定期清理历史** - 设置自动清理时间
2. **不保存敏感内容** - 避免翻译密码等信息
3. **检查模型来源** - 使用可信的 LLM 模型

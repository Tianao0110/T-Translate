/* src/styles/selection.css */

/* --- åŸºç¡€è®¾å®š --- */
* { box-sizing: border-box; margin: 0; padding: 0; outline: none; }

html, body, #root, .sel-root {
  width: 100%; height: 100%;
  overflow: hidden; background: transparent;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

/* =========================================
   1. è§¦å‘åœ†ç‚¹
   ========================================= */
.sel-trigger {
  width: 100%; height: 100%;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer;
  -webkit-app-region: no-drag; 
  animation: scaleIn 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);
}
.sel-trigger svg {
  filter: drop-shadow(0 4px 8px rgba(0,0,0,0.15));
  transition: transform 0.2s;
}
.sel-trigger:hover svg { transform: scale(1.15); }
@keyframes scaleIn { from { transform: scale(0); } to { transform: scale(1); } }

/* =========================================
   2. åŠ è½½åŠ¨ç”»
   ========================================= */
.sel-loading {
  width: 100%; height: 100%;
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(10px);
  display: flex; align-items: center; justify-content: center;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.1);
}
.sel-spinner {
  width: 24px; height: 24px;
  border: 2.5px solid rgba(0,0,0,0.1);
  border-top-color: #3b82f6;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* =========================================
   3. æç®€å¡ç‰‡ (Minimalist Card)
   ========================================= */
.sel-card {
  width: 100%; height: 100%;
  display: flex; flex-direction: column;
  border-radius: 12px;
  overflow: hidden;
  -webkit-app-region: drag; /* å…¨å±€å¯æ‹–æ‹½ */
  transition: background 0.2s, border-color 0.2s, box-shadow 0.2s;
  
  /* ğŸŸ¢ é»˜è®¤ (äº®è‰²æ¨¡å¼) */
  background: #ffffff;
  border: 1px solid rgba(0,0,0,0.08);
  box-shadow: 
    0 4px 12px -2px rgba(0, 0, 0, 0.08),
    0 10px 24px -4px rgba(0, 0, 0, 0.06);
  color: #333;
}

/* --- é¡¶éƒ¨æ‹–æ‹½æ¡ (Pill Handle) --- */
.sel-card::before {
  content: ""; 
  display: block; 
  height: 14px; /* é«˜åº¦é€‚ä¸­ */
  width: 100%; 
  flex-shrink: 0;
  
  /* å±…ä¸­çš„å°ç°æ¡ */
  background-image: url("data:image/svg+xml,%3Csvg width='32' height='4' viewBox='0 0 32 4' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='32' height='4' rx='2' fill='%23e0e0e0'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: center 6px;
}

/* --- å†…å®¹åŒºåŸŸ --- */
.sel-content {
  flex: 1;
  /* åº•éƒ¨å¢åŠ  paddingï¼Œä»£æ›¿åŸæ¥çš„ footer ç©ºé—´ */
  padding: 2px 16px 16px 16px; 
  overflow-y: auto;
  font-size: 14px;
  line-height: 1.6;
  letter-spacing: 0.01em;
  
  -webkit-app-region: no-drag; /* å…è®¸é€‰å­— */
  cursor: text;
  user-select: text;
}

/* å¤åˆ¶æˆåŠŸåé¦ˆï¼šè¾¹æ¡†å˜ç»¿ï¼ŒèƒŒæ™¯å¾®ç»¿ */
.sel-card.copied {
  border-color: #86efac;
  background: #f0fdf4;
}

/* é”™è¯¯åé¦ˆ */
.sel-error {
  background: #fef2f2; color: #ef4444;
  padding: 8px; border-radius: 6px; font-size: 13px;
}

/* =========================================
   ğŸŒš æ·±è‰²æ¨¡å¼ (Dark Theme)
   ========================================= */
[data-theme="dark"] .sel-card {
  background: #1f2937;
  border: 1px solid rgba(255,255,255,0.1);
  box-shadow: 0 8px 32px rgba(0,0,0,0.4);
  color: #e5e7eb;
}

/* æ·±è‰²æ¨¡å¼ä¸‹çš„æŠŠæ‰‹ */
[data-theme="dark"] .sel-card::before {
  background-image: url("data:image/svg+xml,%3Csvg width='32' height='4' viewBox='0 0 32 4' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='32' height='4' rx='2' fill='%234b5563'/%3E%3C/svg%3E");
}

[data-theme="dark"] .sel-card.copied {
  background: #064e3b; border-color: #059669;
}

[data-theme="dark"] .sel-error { background: #450a0a; color: #fca5a5; }

/* --- æ»šåŠ¨æ¡ --- */
.sel-content::-webkit-scrollbar { width: 3px; }
.sel-content::-webkit-scrollbar-thumb { background: #e5e7eb; border-radius: 4px; }
[data-theme="dark"] .sel-content::-webkit-scrollbar-thumb { background: #4b5563; }

/* --- å³ä¸‹è§’æŠ“æ‰‹ --- */
.sel-resize-handle {
  position: absolute; bottom: 0; right: 0; width: 16px; height: 16px; cursor: nwse-resize; z-index: 100;
  -webkit-app-region: no-drag;
  /* æå…¶éšå½¢çš„æ¸å˜ */
  background: linear-gradient(135deg, transparent 50%, rgba(0,0,0,0.08) 50%);
  border-bottom-right-radius: 12px;
}
.sel-resize-handle:hover { background: linear-gradient(135deg, transparent 50%, #3b82f6 50%); }
[data-theme="dark"] .sel-resize-handle { background: linear-gradient(135deg, transparent 50%, rgba(255,255,255,0.08) 50%); }